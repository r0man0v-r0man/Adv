<form nz-form [formGroup]="saleFlatForm"  [nzLayout]="'vertical'" nzJustify="space-between" nz-row >
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 24 }" 
    [nzMd]="{ span : 24 }" 
    [nzLg]="{ span : 24 }" 
    [nzXl]="{ span : 24 }">
        <nz-form-control >
            <nz-upload 
            nzAction="{{imageService.uploadUrl}}"
            [nzHeaders]="imageService.headers"
            [nzTransformFile]="imageService.transformFile"
            [nzBeforeUpload]="imageService.beforeUpload"
            [nzRemove]="onDelete"
            [nzShowUploadList]="imageService.showUploadList"
            [nzFileList]="imageList"
            [nzShowButton]="imageList.length < 8"
            [nzAccept]="'image/png,image/jpeg,image/gif,image/jpg'"
            nzFileType="image/png,image/jpeg,image/gif,image/jpg"
            (nzChange)="onUploadChange($event)"
            [nzListType]="'picture'"
            ><!--nzSize 5mb-->
            <button nzBlock="true" nz-button nzSize="large">
                <i nz-icon nzType="upload" nzTheme="outline"></i> 
                Загрузите изображение      
            </button>
            <p><small>Максимальный размер фото 5mb.</small>
            </p>
            </nz-upload>
        </nz-form-control>
    </nz-form-item>
    <nz-divider [nzText]="addressTpl">
        <ng-template #addressTpl>
            Адрес
        </ng-template>
    </nz-divider>
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 24 }" 
    [nzMd]="{ span : 24 }" 
    [nzLg]="{ span : 24 }" 
    [nzXl]="{ span : 24 }" >
        <nz-form-label nzRequired nzFor="city">Выберите город</nz-form-label>
        <nz-form-control 
        nzHasFeedback
        nzErrorTip="Выберите город!">
            <nz-select nzShowSearch nzAllowClear
            [(ngModel)]="selectedCity"
            formControlName="city"
            [nzSize]="'large'"
            nzPlaceHolder="Выберите город">
              <nz-option
                *ngFor="let city of listOfCities"
                [nzLabel]="city.label"
                [nzValue]="city.value"
                >
              </nz-option>
            </nz-select>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 24 }" 
    [nzMd]="{ span : 24 }" 
    [nzLg]="{ span : 24 }" 
    [nzXl]="{ span : 24 }">
        <nz-form-label nzRequired nzFor="address">Укажите точный адрес</nz-form-label>

        <nz-form-control  nzHasFeedback  nzErrorTip="Укажите точный адрес!" >
            <nz-input-group nzSize="large" [nzSuffix]="suffixIcon">
                <input placeholder="Например: Несвиж лермонтова 2" nz-input  formControlName="address"
                (ngModelChange)="suggestService.searchChange$.next($event)" 
                [nzAutocomplete]="auto" />
            </nz-input-group>
            <ng-template #suffixIcon>
                <i nz-icon nzType="search"></i>
            </ng-template>
            <nz-autocomplete #auto>
                <nz-auto-option *ngFor="let option of suggestService.suggestions" [nzLabel]="option.text" [nzValue]="option.text">
                    {{ option.text }}
                </nz-auto-option>
            </nz-autocomplete>        
        </nz-form-control>
        <p><small>Начинайте вводить и выберите адрес из подсказок</small></p>
    </nz-form-item>
    <nz-divider [nzText]="houseTPL">
        <ng-template #houseTPL>
            Дом
        </ng-template>
    </nz-divider>
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 11 }" 
    [nzMd]="{ span : 11 }" 
    [nzLg]="{ span : 11 }" 
    [nzXl]="{ span : 11 }">
        <nz-form-label nzRequired="true" nzFor="floor" >Этаж</nz-form-label>
        <nz-form-control  nzHasFeedback  nzErrorTip="Укажите этаж!">
            <nz-input-number
            nzSize="large"
            formControlName="floor"
            [(ngModel)]="floor"
            [nzPlaceHolder]="3"
            [nzMin]="1"
            [nzMax]="1000"
            [nzStep]="1"></nz-input-number>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 11 }" 
    [nzMd]="{ span : 11 }" 
    [nzLg]="{ span : 11 }" 
    [nzXl]="{ span : 11 }">
        <nz-form-label nzRequired="true" nzFor="allFloor" >Этажей всего</nz-form-label>
        <nz-form-control  nzHasFeedback  nzErrorTip="Сколько всего этажей!">
            <nz-input-number
            nzSize="large"
            formControlName="allFloor"
            [(ngModel)]="allFloor"
            [nzPlaceHolder]="3"
            [nzMin]="1"
            [nzMax]="1000"
            [nzStep]="1"></nz-input-number>
        </nz-form-control>
    </nz-form-item>
    <nz-divider [nzText]="flatTPL">
        <ng-template #flatTPL>
            Квартира
        </ng-template>
    </nz-divider>
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 11 }" 
    [nzMd]="{ span : 11 }" 
    [nzLg]="{ span : 11 }" 
    [nzXl]="{ span : 11 }">
        <nz-form-label nzRequired="true" nzFor="rooms" >Кол-во комнат</nz-form-label>
        <nz-form-control  nzHasFeedback  nzErrorTip="Сколько комнат!">
            <nz-input-number
            nzSize="large"
            formControlName="rooms"
            [(ngModel)]="rooms"
            [nzPlaceHolder]="2"
            [nzMin]="1"
            [nzMax]="1000"
            [nzStep]="1"></nz-input-number>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 11 }" 
    [nzMd]="{ span : 11 }" 
    [nzLg]="{ span : 11 }" 
    [nzXl]="{ span : 11 }">
        <nz-form-label nzRequired="true" nzFor="flatArea" >Общая площадь, кв.м</nz-form-label>
        <nz-form-control  nzHasFeedback  nzErrorTip="Укажите общую площадь!">
            <nz-input-number
            nzSize="large"
            formControlName="flatArea"
            [(ngModel)]="flatArea"
            [nzPlaceHolder]="40"
            [nzMin]="1"
            [nzMax]="1000"
            [nzStep]="1"></nz-input-number>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 11 }" 
    [nzMd]="{ span : 11 }" 
    [nzLg]="{ span : 11 }" 
    [nzXl]="{ span : 11 }">
        <nz-form-label nzRequired="true" nzFor="flatLiveArea" >Жилая площадь, кв.м</nz-form-label>
        <nz-form-control  nzHasFeedback  nzErrorTip="Укажите жилую площадь!">
            <nz-input-number
            nzSize="large"
            formControlName="flatLiveArea"
            [(ngModel)]="flatLiveArea"
            [nzPlaceHolder]="40"
            [nzMin]="1"
            [nzMax]="1000"
            [nzStep]="1"></nz-input-number>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 11 }" 
    [nzMd]="{ span : 11 }" 
    [nzLg]="{ span : 11 }" 
    [nzXl]="{ span : 11 }">
        <nz-form-label nzRequired="true" nzFor="kitchenArea" >Площадь кухни, кв.м</nz-form-label>
        <nz-form-control  nzHasFeedback  nzErrorTip="Укажите площадь кухни!">
            <nz-input-number
            nzSize="large"
            formControlName="kitchenArea"
            [(ngModel)]="kitchenArea"
            [nzPlaceHolder]="15"
            [nzMin]="1"
            [nzMax]="1000"
            [nzStep]="1"></nz-input-number>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 11 }" 
    [nzMd]="{ span : 11 }" 
    [nzLg]="{ span : 11 }" 
    [nzXl]="{ span : 11 }">
        <nz-form-label nzRequired nzFor="balcony">Балкон</nz-form-label>
        <nz-form-control 
        nzHasFeedback
        nzErrorTip="Балкон есть?">
            <nz-select 
            [(ngModel)]="selectedBalcony"
            formControlName="balcony"
            [nzSize]="'large'">
            <nz-option
                *ngFor="let balcony of listOfBalcony"
                [nzLabel]="balcony.label"
                [nzValue]="balcony.value"
                >
            </nz-option>
            </nz-select>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 11 }" 
    [nzMd]="{ span : 11 }" 
    [nzLg]="{ span : 11 }" 
    [nzXl]="{ span : 11 }">
        <nz-form-label nzRequired nzFor="toilet">Санузел</nz-form-label>
        <nz-form-control 
        nzHasFeedback
        nzErrorTip="Санузел есть?">
            <nz-select 
            [(ngModel)]="selectedToilet"
            formControlName="toilet"
            [nzSize]="'large'">
            <nz-option
                *ngFor="let toilet of listOfToilet"
                [nzLabel]="toilet.label"
                [nzValue]="toilet.value"
                >
            </nz-option>
            </nz-select>
        </nz-form-control>
    </nz-form-item>
    <nz-divider [nzText]="priceSector">
        <ng-template #priceSector>
            Стоимость
        </ng-template>
    </nz-divider>
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 24 }" 
    [nzMd]="{ span : 24 }" 
    [nzLg]="{ span : 24 }" 
    [nzXl]="{ span : 24 }">
        <nz-form-label nzRequired="true" nzFor="price" >Цена</nz-form-label>
        <nz-form-control  nzHasFeedback  nzErrorTip="Укажите цену!">
            <nz-input-number
            nzSize="large"
            formControlName="price"
            [(ngModel)]="price"
            [nzPlaceHolder]="100"
            [nzMin]="1"
            [nzFormatter]="formatterDollar"
            [nzParser]="parserDollar"
            [nzMax]="900000000"
            [nzStep]="1"></nz-input-number>
        </nz-form-control>
    </nz-form-item>
    <nz-divider [nzText]="contactsTpl">
        <ng-template #contactsTpl>
            Контакты
        </ng-template>
    </nz-divider>
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 11 }" 
    [nzMd]="{ span : 11 }" 
    [nzLg]="{ span : 11 }" 
    [nzXl]="{ span : 11 }">
        <nz-form-label nzRequired="true" nzFor="phone" >Телефон</nz-form-label>
        <nz-form-control  nzHasFeedback  nzErrorTip="Укажите телефон!">
            <input nz-input placeholder="80291234567"
            nzSize="large"
            formControlName="phone"
            [(ngModel)]="phone"
            type="tel">
        </nz-form-control>
    </nz-form-item>
    <nz-divider [nzText]="descriptionTpl">
        <ng-template #descriptionTpl>
            Описание
        </ng-template>
    </nz-divider>
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 24 }" 
    [nzMd]="{ span : 24 }" 
    [nzLg]="{ span : 24 }" 
    [nzXl]="{ span : 24 }">
        <nz-form-control nzHasFeedback [nzErrorTip]="descriptionErrorTpl">
            <textarea 
            [nzSize]="'large'"
            formControlName="description"
            placeholder="Ваше описание"
            [nzAutosize]="{ minRows: 4, maxRows: 6 }" 
            nz-input></textarea>
            <ng-template #descriptionErrorTpl let-control>
                <ng-container *ngIf="control.hasError('required')">
                    Добавьте описание!
                </ng-container>
                <ng-container *ngIf="control.hasError('notOnlySpace')">
                    Описание не должно быть пустым!
                </ng-container>
            </ng-template>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item nz-col 
    [nzXs]="{ span : 24 }" 
    [nzSm]="{ span : 24 }" 
    [nzMd]="{ span : 24 }" 
    [nzLg]="{ span : 24 }" 
    [nzXl]="{ span : 24 }">
        <nz-form-control >
          <button nz-button 
          nzType="primary" 
          [nzSize]="'large'"  
          (click)="submitForm()"
          [disabled]="!saleFlatForm.valid"
          nzBlock="true">  
           <i nz-icon nzType="plus" nzTheme="outline"></i>Добавить объявление</button>
        </nz-form-control>
    </nz-form-item>
</form>